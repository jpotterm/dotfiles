<?
employees = {
  "Ross Adams",
  {name = "Tobias Ahlin", link = "spotify:user:pannpann"},
  {name = "Patricia Adamsson", link = "spotify:user:adamsdotter"},
  "Samuel Ahlqvist",
  {name = "Johanna \"Hannis\" Albinsson", link = "spotify:user:hannis"},
  "Jouhaine Aljobair",
  "Lise Alm",
  "Daniel Andersson",
  {name = "Mark Andrews", link = "spotify:user:onamali"},
  "Danel Arismendez",
  {name = "Mattias Arrelid", link = "spotify:user:mattias"},
  {name = "Johan Avoine", link = "spotify:user:biozer"},
  "Cecilia Axelsson",
  {name = "Nick Barkas", link = "spotify:user:nbarkas"},
  "Katherine Bednarczyck",
  "Sophia Bendz",
  {name = "Fredrik Bengtsson", link = "spotify:user:eldloppa"},
  {name = "Joachim Bengtsson", link = "spotify:user:devnevyn"},
  {name = "Kristofer Berg", link = "spotify:user:k.berg"},
  {name = "Mikael Berggren", link = "spotify:user:miken"},
  {name = "Erik Bernhardsson", link = "spotify:user:erikbern"},
  "Bérangère Biencourt",
  "Martin Birkeldh",
  "Niklas Bivald",
  {name = "Johan Björk", link = "spotify:user:svamp"},
  {name = "Karin Björkén", link = "spotify:user:karinbjorken"},
  {name = "Pär Bohrarper", link = "spotify:user:parbo"},
  {name = "Gabriel Bonander", link = "spotify:user:gabbon"},
  {name = "Tim Botterill", link = "spotify:user:michaeldouglasboy"},
  {name = "Johan Böhlin", link = "spotify:user:johboh"},
  {name = "Peter Carlsten", link = "spotify:user:peter.carlsten"},
  "Emily ffrench Blake",
  {name = "Andreas Blixt", link = "spotify:user:andreas.blixt"},
  {name = "Anders Bond", link = "spotify:user:andersbond"},
  {name = "Felix Bouleau", link = "spotify:user:flakespancakes"},
  "Rachel Branden",
  "Paul Brown",
  {name = "Felix Bruns", link = "spotify:user:fxbhh"},
  "Viktor Brännfors",
  "Jim Butcher",
  {name = "Pierre Carrier", link = "spotify:user:gcarrier"},
  {name = "Ruairi Carroll", link = "spotify:user:rucarrol"},
  {name = "Florent Castelli", link = "spotify:user:orphis"},
  "Arnaud Champetier",
  "Sung-Kyu Choi",
  {name = "Ed Cipriano", link = "spotify:user:124785919"},
  {name = "Martin Clemmensen", link = "spotify:user:115185075"},
  "Nathaniel Cochrane",
  {name = "Quenton Cook", link = "spotify:user:qcook2000"},
  "David Cooper",
  {name = "Ryan Culbertson", link = "spotify:user:rculbertson"},
  {name = "Samuel Cyprian", link = "spotify:user:samcyp"},
  "Stine Bauer Dahlberg",
  {name = "Charles Dinsdale", link = "spotify:user:jadrax"},
  {name = "Daniel Drayne", link ="spotify:user:ddrayne"},
  "Olivier Dubigeon",
  "James Duffett-Smith",
  {name = "Johan Edlund", link = "spotify:user:jocklas"},
  {name = "Björn Edström", link = "spotify:user:bjorn.edstrom"},
  "Tobias Edström",
  "Daniel Ek",
  "Daniel Ekberger",
  {name = "Dag von Schéele Ekengren", link = "spotify:user:dagobert"},
  {name = "Richard Eklund", link = "spotify:user:erebore"},
  "Anders Elfving",
  "Lutz Emmerich",
  {name = "Mikael Ericsson", link = "spotify:user:diripio"},
  "Jonathan Forster",
  "Gösta Forsum",
  {name = "Emil Fredriksson", link = "spotify:user:emil"},
  {name = "Elias Freider", link = "spotify:user:fishmoose"},
  "Faisal Galaria",
  "Tommie Gannert",
  "Carla Garrido-Lestache",
  "Javier Gayoso",
  "Zia George",
  "Dan Gerhardsson",
  "Mikael Goldmann",
  "Marshall Greenblatt",
  {name = "Oskar Grenholm", link = "spotify:user:bobcat_zed"},
  {name = "Fredrik Gustafsson", link = "spotify:user:jagheterfredrik"},
  {name = "Niklas Gustavsson", link = "spotify:user:protocol7"},
  {name = "Johan Gärderud", link = "spotify:user:garberus"},
  "Maria Göthlin",
  {name = "Johan Haals", link = "spotify:user:johan.haals"},
  {name = "Erik Hammar", link = "spotify:user:hammond"},
  "Petra Hansson",
  {name = "Nicholas Harteau", link = "spotify:user:nrh3k"},
  {name = "Erik Hartwig", link = "spotify:user:fnork"},
  {name = "Benjamin Hasselgren", link = "spotify:user:benis"},
  "Marc Hazan",
  "Johan Hedren",
  {name = "Charlie Hellman", link = "spotify:user:chellmania"},
  "Jenny Hermanson",
  {name = "Gandalf Hernandez", link = "spotify:user:gandalf.hernandez"},
  {name = "Santeri Hernejärvi", link = "spotify:user:santeri"},
  "Emil Hesslow",
  {name = "Simon Hofverberg", link = "spotify:user:hofverbergs"},
  "Rebecca Horvath",
  "Magnus Hult",
  {name = "Daniel Häggström", link = "spotify:user:lyssnare"},
  "Olga Hörding",
  {name = "Marcus Isaksson", link = "spotify:user:maris382"},
  {name = "Anders Ivarsson", link = "spotify:user:anders.ivarsson"},
  "Niklas Ivarsson",
  {name = "Mattias Jansson", link = "spotify:user:fimblo"},
  "Greg Jarvis",
  {name = "Erik Johansson", link = "spotify:user:tozz"},
  {name = "Pontus Johansson", link = "spotify:user:ponjoh"},
  {name = "Pär Johansson", link = "spotify:user:sigge_stardust"},
  "Maria Johnsson",
  "Aggie Jones",
  {name = "Rorey Jones", link = "spotify:user:roreyjones"},
  {name = "Rikard Jönsson", link = "spotify:user:yanquiuxo"},
  "Kajsa Lisa Wallin",
  {name = "Michelle Kadir", link = "spotify:user:michellekadir"},
  {name = "Kristofer Karlsson", link = "spotify:user:krka"},
  "Julian Kennedy",
  {name = "Daniel Kennett", link = "spotify:user:ikenndac"},
  {name = "Jamie Kirkpatrick", link = "spotify:user:gringostarr"},
  {name = "Johannes Koggdal", link = "spotify:user:johannes.koggdal"},
  "Nicholas Konstantinidis",
  "Mikael Krantz",
  "Gunnar Kreitz",
  {name = "Chiel Kunkels", link = "spotify:user:chielkunkels"},
  {name = "Johannes Kählare", link = "spotify:user:joynes"},
  {name = "Daniel Källbom", link = "spotify:user:danielolof"},
  "Maja Landar",
  {name = "Jason LaCarrubba", link = "spotify:user:jayubba"},
  {name = "Henrik Landgren", link = "spotify:user:hlandgren"},
  "Carl-Axel Larsen",
  {name = "DJ Lee", link = "spotify:user:123093810"},
  "Johan Leijonhufvud",
  {name = "Aron Levin", link = "spotify:user:allacentrum"},
  {name = "Neville Li", link = "spotify:user:sinisa_lyh"},
  {name = "Andreas Liffgarden", link = "spotify:user:liffgarden"},
  {name = "Mats Linander", link = "spotify:user:mtsl"},
  {name = "Stefan Lindblom", link = "spotify:user:stefanlindblom"},
  "Gustav Lindqvist",
  {name = "Johan Lindström", link = "spotify:user:erik.johan.lindstrom"},
  {name = "Jonatan Littke", link = "spotify:user:littke"},
  "Martin Lorentzon",
  {name = "João Lopes", link = "spotify:user:zunbid"},
  {name = "Gabriel Lundberg", link = "spotify:user:snaily"},
  "Niklas Lundberg",
  {name = "Wilhelm Lundborg", link = "spotify:user:lundborg"},
  {name = "Henrik Löf", link = "spotify:user:henlof"},
  "Richard Mahlberg",
  {name = "Sriram Malladi", link = "spotify:user:srirampmalladi"},
  "Per Malm",
  "Gustavo Marin",
  "German Martinez",
  {name = "Andreas Mattsson", link = "spotify:user:andreas"},
  "Alexis McCabe",
  "Matthieu Minaud",
  {name = "Nicole Miner", link = "spotify:user:koley74"},
  {name = "Kinshuk Mishra", link = "spotify:user:kinshuk"},
  "Jon Mitchell",
  {name = "Pascal de Mul", link = "spotify:user:pdemul"},
  {name = "Jimmy Mårdell", link = "spotify:user:yarin"},
  "Philip Möjbro",
  "Fredrik Niemelä",
  {name = "Oscar Nilsson", link = "spotify:user:oemt"},
  "Tom Noble",
  {name = "Daniel Norberg", link = "spotify:user:danieln"},
  {name = "Henrik Nordin", link = "spotify:user:dzhambulat"},
  "Fredrik Norén",
  {name = "Alex Norström", link = "spotify:user:alegaa"},
  "John Novatnack",
  "Lydia Oates",
  {name = "Mikael Ohlson", link = "spotify:user:atexit"},
  "Magnus Olausson",
  {name = "Mikael Olenfalk", link = "spotify:user:mikael.olenfalk"},
  {name = "Sthephany van Oordt", link = "spotify:user:sthephanyvanoordt"},
  "Stefan Palmquist",
  "Ken Parks",
  {name = "John Pavley", link = "spotify:user:jpavley"},
  {name = "Tomás Pérez", link = "spotify:user:tomasperezv"},
  "Beth Perrett",
  {name = "Daniel Persson", link = "spotify:user:mejslo"},
  "Johan Persson",
  {name = "Örjan Persson", link = "spotify:user:o.p"},
  {name = "Daisy Pilbrow", link = "spotify:user:hyzenthlay78"},
  "Jessica Pitt",
  "Diego Planas Rego",
  {name = "David Poblador i Garcia", link = "spotify:user:nirvanis"},
  {name = "Ronald Pompa", link = "spotify:user:wizzler"},
  "Henrik Preifors",
  "Elias Raam",
  {name = "Ram Ramakrishnan", link = "spotify:user:ramwilco"},
  "Sriram Raman",
  {name = "Noa Resare", link = "spotify:user:noa"},
  {name = "Felipe Ribeiro", link = "spotify:user:felipernb"},
  {name = "Ian Robbins", link = "spotify:user:irobbin2"},
  "Eleanor Richardson",
  "Ida Rosén",
  {name = "Andrea Rosengren", link = "spotify:user:andypantz"},
  {name = "Johannes Fabian Rußek", link = "spotify:user:jorussek"},
  {name = "Magnus Röös", link = "spotify:user:mla"},
  "Johan Sahlén",
  "Victor Sanchez",
  {name = "Martin Sandberg", link = "spotify:user:martin121"},
  "Göran Sander",
  {name = "Ricardo Santos", link = "spotify:user:ricardovice"},
  "Alana Sargent",
  {name = "Dogan Saygin", link = "spotify:user:dogan"},
  {name = "Roger Schildmeijer", link = "spotify:user:schildmeijer"},
  {name = "Andreas Schuldei", link = "spotify:user:stockholm"},
  {name = "Christian Schweitz", link = "spotify:user:christianschweitz"},
  "Andres Sehr",
  "Oskar Serrander",
  {name = "Andy Smith", link = "spotify:user:andysmith"},
  "Tim Sparks",
  {name = "Susanne Stage", link = "spotify:user:susannestage"},
  {name = "Marcus Forsell Stahre", link = "spotify:user:togi"},
  {name = "Rickard Strand", link = "spotify:user:vacuumchild"},
  "Ludvig Strigeus",
  "Marianne Strömstedt",
  "Neil Stubbings",
  "Oskar Stål",
  {name = "John Stäck", link = "spotify:user:ionn"},
  {name = "Donovan Sung", link = "spotify:user:donovansung"},
  {name = "Ula Suwada", link = "spotify:user:116306701"},
  {name = "Olof Svedström", link = "spotify:user:user03800"},
  "Anders Svensson",
  "Annina Svensson",
  {name = "Nicklas Söderlind", link = "spotify:user:n2k"},
  "Gustav Söderström",
  {name = "John-John Tedro", link = "spotify:user:udoprog"},
  "Yann Thebault",
  {name = "Max Thoursie", link = "spotify:user:max"},
  "Henrik Torstensson",
  {name = "Thodoris Tsiridis", link = "spottily:user:72lions"},
  "Deniz Türkoglu",
  {name = "Thomas Tönnfält", link = "spotify:user:thoton"},
  "Alick Varma",
  "Isabel Varón",
  {name = "Marcus Vesterlund", link = "spotify:user:mzeo77"},
  {name = "Cecilia Vigil", link = "spotify:user:unitard"},
  {name = "Rick Wacey", link = "spotify:user:mugis"},
  "Johan Walles",
  {name = "Kurt Wasserman", link = "spotify:user:kurtwasserman"},
  "Andrew Watson",
  "Angela Watts",
  {name = "Jonas Westerlund", link = "spotify:user:nlogax"},
  "Andy Wiggan",
  "Carina Wigh",
  "Kristin Wiktorson",
  "Annabel Wilcken",
  "Adam Williams",
  {name = "Geoff Wilson", link = "spotify:user:gmwils"},
  {name = "Christian Wilsson", link = "spotify:user:kribba"},
  {name = "Alan Wright", link = "spotify:user:alanw123"},
  "Ernie Yu",
  {name = "Mattias de Zalenski", link = "spotify:user:z"},
  {name = "Jonas Åman", link = "spotify:user:sportkork"},
  {name = "Jon Åslund", link = "spotify:user:jon"},
  {name = "Anders Åstrand", link = "spotify:user:aastrand"},
  {name = "Luca Öhman", link = "spotify:user:luvs"},
  {name = "Markus Öhrn", link = "spotify:user:fisktest"},
  {name = "Andreas Öman", link = "spotify:user:andoma"},
  {name = "Joakim Önnerdal", link = "spotify:user:jockelhof"},
  {name = "Henrik Österdahl", link = "spotify:user:gurrahenka"},
  {name = "Magnus Österlind", link = "spotify:user:mrdooz"},
  {name = "Nils Österling", link = "spotify:user:nilleratus"},
  {name = "Jyrki Pulliainen", link = "spotify:user:nailor"},
  {name = "Matteo Bertozzi", link = "spotify:user:1116817471"}
}

function sortorder (a, b)
  -- Sort by the last word in the name. This is probably not how you do it for all names in the world.
  if type(a) == "table" then a = a.name end
  aa = string.gsub(a, ".+%s([^%s]*)", "%1")
  if type(b) == "table" then b = b.name end
  bb = string.gsub(b, ".+%s([^%s]*)", "%1")
  if aa == bb then return a < b end
  return aa < bb
end

table.sort(employees, sortorder)
?>
<box>
  <style>
  aboutText {
    flex:1;
    skinfont:AboutBoxText;
    width: 344;
  }
  </style>
  <box width="500" height="500">
    %--<debug color="S"></debug>
    <vbox>
      <img src="about/text.png" />
      <img src="about/photo.jpg" />
      <img src="about/bottom.png" />
    </vbox>
    <vbox maxheight="264" margin="125,37,0,0">
      <text skinfont="AboutBoxVersion"><link url="copyVersionString">${data.version}</link></text>
      <text style="aboutText" flex="1">
Copyright © ${data.current_year} Spotify Ltd
Portions of the Spotify Media Service content have been provided by All Music Guide © 2007 All Media Guide, LLC
</text>
      % if data.autoupdate == 1 then
      <text style="aboutText;hoverlinkcolor:#404040" margin="0,0,0,10">A new version of Spotify is available (${data.autoupdatever}). <link url="downloadNow">Click here to download.</link></text>
      % elseif data.autoupdate == 2 then
      <text style="aboutText" margin="0,0,0,10">Downloading Spotify ${data.autoupdatever}...</text>
      % elseif data.autoupdate == 3 then
      <text style="aboutText;hoverlinkcolor:#404040" margin="0,0,0,10">Spotify has been updated to version ${data.autoupdatever}. <link url="spotify:internal:restart">Please restart to install.</link></text>
      % end
      % if #data.autoupdateerr > 0 then
      <text style="aboutText" margin="0,0,0,10">There was a problem updating Spotify (${data.autoupdateerr}).</text>
      % end
      <box width="370" maxheight="180">
        <img align="right" alt="VerticalScrollbar|bright,edge" width="1" />
        <img align="right,top" alt="VerticalScrollbar|bright,edge" margin="0,0,1,0" width="13" height="1" />
        <img align="right,bottom" alt="VerticalScrollbar|bright,edge" margin="0,0,1,0" width="13" height="1" />
        <scrollview margin="0,0,1,0" scrollbarstyle="bright">
          <text style="aboutText" flex="1">We love music: <?
          for i,employee in ipairs(employees) do
            if i > 1 then ?>, <? end
            if type(employee) == "table" then ?><link url="${employee.link}">${employee.name}</link><?
            else ?>${employee}<?
            end
          end ?></text>
        </scrollview  >
      </box>
    <text style="aboutText" flex="1">
Spotify® is a registered trademark of the Spotify group.</text>
    </vbox>
    <box margin="305,432,0,0" width="10" height="10" onclick="gorilla" />
  </box>
</box>
